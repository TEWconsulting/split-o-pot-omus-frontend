{"ast":null,"code":"import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ConfirmationPage(){const[form,setForm]=useState(null);const[status,setStatus]=useState(\"Waiting for form data...\");const apiBase=process.env.REACT_APP_API_URL||\"http://localhost:3001\";useEffect(()=>{const data=JSON.parse(localStorage.getItem(\"formData\"));if(data){setForm(data);setStatus(\"Click the button below after you've completed payment.\");}else{setStatus(\"No form data found. Please go back and submit the form first.\");}},[]);const confirmAndSend=async()=>{if(!form)return;setStatus(\"Sending confirmation email...\");try{await axios.post(\"\".concat(apiBase,\"/send-email\"),form);setStatus(\"Confirmation email sent! Check your inbox.\");// Optionally clear localStorage\nlocalStorage.removeItem(\"formData\");}catch(err){console.error(err);setStatus(\"Error sending email. See console for details.\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:640,margin:'40px auto',padding:20,fontFamily:'Arial, sans-serif',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Thank you \\u2014 Split-O-Pot-omus\"}),form?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Thanks \",form.name,\", the amount: $\",form.amount]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:6},children:\"If you completed the Venmo payment, click the button below to finalize and send the confirmation email.\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsx(\"button\",{onClick:confirmAndSend,style:{background:'#16a34a',color:'#fff',padding:'10px 14px',border:'none',borderRadius:6},children:\"I've completed payment \\u2014 show confirmation\"})})]}):null,/*#__PURE__*/_jsx(\"p\",{style:{marginTop:20},children:status})]});}","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ConfirmationPage","form","setForm","status","setStatus","apiBase","process","env","REACT_APP_API_URL","data","JSON","parse","localStorage","getItem","confirmAndSend","post","concat","removeItem","err","console","error","style","maxWidth","margin","padding","fontFamily","textAlign","children","name","amount","marginTop","onClick","background","color","border","borderRadius"],"sources":["C:/Users/twalp/OneDrive/Documents/My Stuff/Kids Stuff/Camden/Split-the-Pot/Split-O-Pot-omus/split-o-pot-omus/split-o-pot-omus/frontend/src/pages/ConfirmationPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function ConfirmationPage() {\n  const [form, setForm] = useState(null);\n  const [status, setStatus] = useState(\"Waiting for form data...\");\n\n  const apiBase = process.env.REACT_APP_API_URL || \"http://localhost:3001\";\n\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem(\"formData\"));\n    if (data) {\n      setForm(data);\n      setStatus(\"Click the button below after you've completed payment.\");\n    } else {\n      setStatus(\"No form data found. Please go back and submit the form first.\");\n    }\n  }, []);\n\n  const confirmAndSend = async () => {\n    if (!form) return;\n    setStatus(\"Sending confirmation email...\");\n    try {\n      await axios.post(`${apiBase}/send-email`, form);\n      setStatus(\"Confirmation email sent! Check your inbox.\");\n      // Optionally clear localStorage\n      localStorage.removeItem(\"formData\");\n    } catch (err) {\n      console.error(err);\n      setStatus(\"Error sending email. See console for details.\");\n    }\n  };\n\n  return (\n    <div style={{maxWidth: 640, margin: '40px auto', padding: 20, fontFamily: 'Arial, sans-serif', textAlign:'center'}}>\n      <h2>Thank you — Split-O-Pot-omus</h2>\n      {form ? (\n        <>\n          <p>Thanks {form.name}, the amount: ${form.amount}</p>\n          <p style={{marginTop:6}}>If you completed the Venmo payment, click the button below to finalize and send the confirmation email.</p>\n          <div style={{marginTop:16}}>\n            <button onClick={confirmAndSend} style={{background:'#16a34a', color:'#fff', padding:'10px 14px', border:'none', borderRadius:6}}>\n              I've completed payment — show confirmation\n            </button>\n          </div>\n        </>\n      ) : null}\n      <p style={{marginTop:20}}>{status}</p>\n    </div>\n  );\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,cAAe,SAAS,CAAAC,gBAAgBA,CAAA,CAAG,CACzC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,0BAA0B,CAAC,CAEhE,KAAM,CAAAa,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAExEjB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CACzD,GAAIJ,IAAI,CAAE,CACRP,OAAO,CAACO,IAAI,CAAC,CACbL,SAAS,CAAC,wDAAwD,CAAC,CACrE,CAAC,IAAM,CACLA,SAAS,CAAC,+DAA+D,CAAC,CAC5E,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACb,IAAI,CAAE,OACXG,SAAS,CAAC,+BAA+B,CAAC,CAC1C,GAAI,CACF,KAAM,CAAAX,KAAK,CAACsB,IAAI,IAAAC,MAAA,CAAIX,OAAO,gBAAeJ,IAAI,CAAC,CAC/CG,SAAS,CAAC,4CAA4C,CAAC,CACvD;AACAQ,YAAY,CAACK,UAAU,CAAC,UAAU,CAAC,CACrC,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBd,SAAS,CAAC,+CAA+C,CAAC,CAC5D,CACF,CAAC,CAED,mBACEP,KAAA,QAAKwB,KAAK,CAAE,CAACC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,WAAW,CAAEC,OAAO,CAAE,EAAE,CAAEC,UAAU,CAAE,mBAAmB,CAAEC,SAAS,CAAC,QAAQ,CAAE,CAAAC,QAAA,eACjHhC,IAAA,OAAAgC,QAAA,CAAI,mCAA4B,CAAI,CAAC,CACpC1B,IAAI,cACHJ,KAAA,CAAAE,SAAA,EAAA4B,QAAA,eACE9B,KAAA,MAAA8B,QAAA,EAAG,SAAO,CAAC1B,IAAI,CAAC2B,IAAI,CAAC,iBAAe,CAAC3B,IAAI,CAAC4B,MAAM,EAAI,CAAC,cACrDlC,IAAA,MAAG0B,KAAK,CAAE,CAACS,SAAS,CAAC,CAAC,CAAE,CAAAH,QAAA,CAAC,yGAAuG,CAAG,CAAC,cACpIhC,IAAA,QAAK0B,KAAK,CAAE,CAACS,SAAS,CAAC,EAAE,CAAE,CAAAH,QAAA,cACzBhC,IAAA,WAAQoC,OAAO,CAAEjB,cAAe,CAACO,KAAK,CAAE,CAACW,UAAU,CAAC,SAAS,CAAEC,KAAK,CAAC,MAAM,CAAET,OAAO,CAAC,WAAW,CAAEU,MAAM,CAAC,MAAM,CAAEC,YAAY,CAAC,CAAC,CAAE,CAAAR,QAAA,CAAC,iDAElI,CAAQ,CAAC,CACN,CAAC,EACN,CAAC,CACD,IAAI,cACRhC,IAAA,MAAG0B,KAAK,CAAE,CAACS,SAAS,CAAC,EAAE,CAAE,CAAAH,QAAA,CAAExB,MAAM,CAAI,CAAC,EACnC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}