{"ast":null,"code":"import _objectSpread from\"C:/Users/twalp/OneDrive/Documents/My Stuff/Kids Stuff/Camden/Split-the-Pot/Split-O-Pot-omus/split-o-pot-omus/split-o-pot-omus/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FormPage(){const[formData,setFormData]=useState({name:\"\",email:\"\",amount:\"\"});const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();console.log(\"Submit button clicked, sending request...\");try{const response=await fetch(\"http://localhost:3001/send-confirmation\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});console.log(\"Backend response:\",response.status);if(response.ok){console.log(\"Email sent successfully, redirecting to Venmo...\");const{name,email,amount}=formData;const noteText=\"Split-O-Pot-omus Entry\\nName: \".concat(name,\"\\nEmail: \").concat(email);// Detect mobile vs desktop\nconst isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let venmoURL=\"\";if(isMobile){// ✅ Mobile users → open Venmo app directly\nvenmoURL=\"venmo://paycharge?txn=pay&recipients=Todd-Walpole&amount=\".concat(encodeURIComponent(amount),\"&note=\").concat(encodeURIComponent(noteText));}else{// ✅ Desktop users → open Venmo web profile\nalert(\"You’re about to open Venmo in your browser.\\n\\n\"+\"On the Venmo page, click 'Pay or Request' and make sure the recipient is @Todd-Walpole.\\n\\n\"+\"Your entry info (name, email, amount) is included in the note.\");venmoURL=\"https://venmo.com/Todd-Walpole?txn=pay&amount=\".concat(encodeURIComponent(amount),\"&note=\").concat(encodeURIComponent(noteText));}// Save form data locally for confirmation page\nlocalStorage.setItem(\"formData\",JSON.stringify(formData));// Open Venmo\nwindow.open(venmoURL,\"_blank\");// After 8 seconds, return to confirmation page\nsetTimeout(()=>{navigate(\"/confirmation\",{state:{formData}});},8000);}else{alert(\"❌ Error sending confirmation email.\");}}catch(err){console.error(\"Server error:\",err);alert(\"Server error.\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginTop:\"40px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Split-O-Pot-omus Entry\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{display:\"inline-block\",textAlign:\"left\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount ($):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",value:formData.amount,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{marginTop:\"10px\"},children:\"Submit & Pay via Venmo\"})]})]});}export default FormPage;","map":{"version":3,"names":["useState","useNavigate","jsx","_jsx","jsxs","_jsxs","FormPage","formData","setFormData","name","email","amount","navigate","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","status","ok","noteText","concat","isMobile","test","navigator","userAgent","venmoURL","encodeURIComponent","alert","localStorage","setItem","window","open","setTimeout","state","err","error","style","textAlign","marginTop","children","onSubmit","display","type","onChange","required"],"sources":["C:/Users/twalp/OneDrive/Documents/My Stuff/Kids Stuff/Camden/Split-the-Pot/Split-O-Pot-omus/split-o-pot-omus/split-o-pot-omus/frontend/src/pages/FormPage.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction FormPage() {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    amount: \"\"\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  console.log(\"Submit button clicked, sending request...\");\r\n\r\n  try {\r\n    const response = await fetch(\"http://localhost:3001/send-confirmation\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(formData),\r\n    });\r\n\r\n    console.log(\"Backend response:\", response.status);\r\n\r\n    if (response.ok) {\r\n      console.log(\"Email sent successfully, redirecting to Venmo...\");\r\n\r\n\r\n\r\nconst { name, email, amount } = formData;\r\nconst noteText = `Split-O-Pot-omus Entry\\nName: ${name}\\nEmail: ${email}`;\r\n\r\n// Detect mobile vs desktop\r\nconst isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n\r\nlet venmoURL = \"\";\r\n\r\nif (isMobile) {\r\n  // ✅ Mobile users → open Venmo app directly\r\n  venmoURL = `venmo://paycharge?txn=pay&recipients=Todd-Walpole&amount=${encodeURIComponent(\r\n    amount\r\n  )}&note=${encodeURIComponent(noteText)}`;\r\n} else {\r\n  // ✅ Desktop users → open Venmo web profile\r\n   alert(\r\n    \"You’re about to open Venmo in your browser.\\n\\n\" +\r\n      \"On the Venmo page, click 'Pay or Request' and make sure the recipient is @Todd-Walpole.\\n\\n\" +\r\n      \"Your entry info (name, email, amount) is included in the note.\"\r\n  );\r\n  \r\n  venmoURL = `https://venmo.com/Todd-Walpole?txn=pay&amount=${encodeURIComponent(\r\n    amount\r\n  )}&note=${encodeURIComponent(noteText)}`;\r\n \r\n}\r\n\r\n// Save form data locally for confirmation page\r\nlocalStorage.setItem(\"formData\", JSON.stringify(formData));\r\n\r\n// Open Venmo\r\nwindow.open(venmoURL, \"_blank\");\t  \r\n\t  \r\n\t  \r\n      // After 8 seconds, return to confirmation page\r\n      setTimeout(() => {\r\n  navigate(\"/confirmation\", { state: { formData } });\r\n}, 8000);\r\n    } else {\r\n      alert(\"❌ Error sending confirmation email.\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Server error:\", err);\r\n    alert(\"Server error.\");\r\n  }\r\n};\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: \"40px\" }}>\r\n      <h1>Split-O-Pot-omus Entry</h1>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        style={{ display: \"inline-block\", textAlign: \"left\" }}\r\n      >\r\n        <div>\r\n          <label>Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label>Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label>Amount ($):</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"amount\"\r\n            value={formData.amount}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" style={{ marginTop: \"10px\" }}>\r\n          Submit & Pay via Venmo\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}